<!DOCTYPE html>
{% load static %}
{% load sass_tags %}
{% load i18n %}
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Repo Maker - {% block title %}{% endblock %}</title>
	<link href="{% sass_src 'maker/css/style.scss' %}" rel="stylesheet" type="text/css" media="all">
	{% block head %}{% endblock head %}
</head>

<body>
<!-- Always shows a header, even in smaller screens. -->
<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header mdl-layout--no-desktop-drawer-button">
	<header class="rm-header {% block rm-header-classes %}{% endblock rm-header-classes %} mdl-layout__header mdl-layout__header--waterfall">
		<div class="mdl-layout__header-row">
			{% block toolbar %}

			{% block toolbar-items-left %}{% endblock toolbar-items-left %}

			<!-- Title -->
			<span class="rm-title mdl-layout-title">
				{% block toolbar-title %}<a href="/">Repo Maker</a>{% endblock toolbar-title %}
			</span>
			<!-- Add spacer, to align navigation to the right -->
			<div class="mdl-layout-spacer"></div>

			{% block toolbar-items-right %}{% endblock toolbar-items-right %}

			<nav class="rm-navigation mdl-navigation">
				{% block navigation %}{% endblock navigation %}
				{% if user.is_authenticated and user.username != 'user' %}
					{% load account %}
					<!-- TODO: Open account view instead -->
					<a class="rm-toolbar-account" href="{% url 'account_email' %}">
					{% blocktrans with user=user.username trimmed %}
					Hello, {{ user }}
					{% endblocktrans %}
					</a>
					<a class="rm-toolbar-account" href="{% url 'account_logout' %}">
						<i class="material-icons">exit_to_app</i>
					</a>
				{% endif %}
			</nav>
			{% endblock toolbar %}
		</div>
	</header>
	<div class="mdl-layout__drawer">
		<span class="mdl-layout-title">Repomaker</span>
	</div>
	<main class="mdl-layout__content">
		{% if site_notice %}
		<div style="padding: 1em; background-color: yellow; text-align: center;">
			{% autoescape off %}{{ site_notice }}{% endautoescape %}
		</div>
		{% endif %}
		{% block rm-content--without-margin %}{% endblock rm-content--without-margin %}
		<div class="rm-content">{% block rm-content %}{% endblock %}</div>
	</main>
</div>
<script src="{% static 'node_modules/material-design-lite/material.min.js' %}"></script>
</body>
</html>
